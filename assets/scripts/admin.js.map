{"version":3,"file":"admin.js","sources":["../../src/scripts/admin.ts"],"sourcesContent":["/**\n * Admin scripts for Social Linker plugin.\n */\n\nimport '../types/types';\nimport '../styles/admin.scss';\n\ndeclare const jQuery: any;\ndeclare global {\n    interface Window {\n        wp: {\n            template: (id: string) => (data: any) => string;\n            media: (options: any) => any;\n        };\n    }\n}\n\n/**\n * Admin class for managing social links.\n */\nclass SocialLinkerAdmin {\n    private container: JQuery;\n\n    /**\n     * Constructor.\n     */\n    constructor() {\n        this.container = jQuery('.social-links-container');\n\n        if (this.container.length) {\n            this.initEvents();\n            this.initSortable();\n        }\n    }\n\n    /**\n     * Initialize events.\n     */\n    private initEvents(): void {\n        jQuery('.add-custom-network').on('click', () => this.addCustomNetwork());\n        this.container.on('click', '.remove-social-link', (e) => this.removeNetwork(e));\n    }\n\n    /**\n     * Initialize sortable functionality.\n     */\n    private initSortable(): void {\n        if (jQuery.fn.sortable) {\n            this.container.sortable({\n                items: '.social-link-item',\n                handle: '.social-link-header',\n                cursor: 'move',\n                opacity: 0.7,\n                revert: true\n            });\n        }\n    }\n\n    /**\n     * Add custom network.\n     */\n    private addCustomNetwork(): void {\n        const id = 'custom-' + Date.now();\n        const name = 'Custom Network';\n\n        if (typeof window.wp === 'undefined' || typeof window.wp.template !== 'function') {\n            console.error('WordPress template API is not available. Make sure wp-util is loaded.');\n            alert('Error: Cannot add new network. WordPress template API is not available.');\n            return;\n        }\n\n        const template = window.wp.template('social-link-item');\n        const html = template({\n            id: id,\n            name: name\n        });\n\n        jQuery(html).insertBefore('.social-link-actions');\n    }\n\n    /**\n     * Remove network.\n     * \n     * @param {JQuery.ClickEvent} e - Click event.\n     */\n    private removeNetwork(e: JQuery.ClickEvent): void {\n        const item = jQuery(e.currentTarget).closest('.social-link-item');\n\n        if (confirm('Are you sure you want to delete this social network?')) {\n            item.fadeOut(300, function () {\n                jQuery(this).remove();\n            });\n        }\n    }\n}\n\n// Initialize on page load\njQuery(document).ready(() => {\n    new SocialLinkerAdmin();\n});"],"names":["SocialLinkerAdmin","__publicField","id","name","html","item"],"mappings":"oKAoBA,MAAMA,CAAkB,CAMpB,aAAc,CALNC,EAAA,kBAMJ,KAAK,UAAY,OAAO,yBAAyB,EAE7C,KAAK,UAAU,SACf,KAAK,WAAA,EACL,KAAK,aAAA,EAEb,CAKQ,YAAmB,CACvB,OAAO,qBAAqB,EAAE,GAAG,QAAS,IAAM,KAAK,kBAAkB,EACvE,KAAK,UAAU,GAAG,QAAS,sBAAwB,GAAM,KAAK,cAAc,CAAC,CAAC,CAClF,CAKQ,cAAqB,CACrB,OAAO,GAAG,UACV,KAAK,UAAU,SAAS,CACpB,MAAO,oBACP,OAAQ,sBACR,OAAQ,OACR,QAAS,GACT,OAAQ,EAAA,CACX,CAET,CAKQ,kBAAyB,CAC7B,MAAMC,EAAK,UAAY,KAAK,IAAA,EACtBC,EAAO,iBAEb,GAAI,OAAO,OAAO,GAAO,KAAe,OAAO,OAAO,GAAG,UAAa,WAAY,CAC9E,QAAQ,MAAM,uEAAuE,EACrF,MAAM,yEAAyE,EAC/E,MACJ,CAGA,MAAMC,EADW,OAAO,GAAG,SAAS,kBAAkB,EAChC,CAClB,GAAAF,EACA,KAAAC,CAAA,CACH,EAED,OAAOC,CAAI,EAAE,aAAa,sBAAsB,CACpD,CAOQ,cAAc,EAA4B,CAC9C,MAAMC,EAAO,OAAO,EAAE,aAAa,EAAE,QAAQ,mBAAmB,EAE5D,QAAQ,sDAAsD,GAC9DA,EAAK,QAAQ,IAAK,UAAY,CAC1B,OAAO,IAAI,EAAE,OAAA,CACjB,CAAC,CAET,CACJ,CAGA,OAAO,QAAQ,EAAE,MAAM,IAAM,CACzB,IAAIL,CACR,CAAC"}